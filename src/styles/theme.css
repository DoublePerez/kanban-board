@custom-variant dark (&:is(.dark *));

/* ════════════════════════════════════════════════════════════════
   DESIGN TOKENS
   ════════════════════════════════════════════════════════════════
   Naming: --{category}-{element}-{modifier}

   Categories:
     color-surface-*    surfaces & backgrounds
     color-text-*       text colors
     color-border-*     borders & dividers
     color-interactive-*  buttons, links, focus rings
     glass-*            glassmorphic system (blur, bg, border, text)
     font-*             typography (family, weight, size)
     radius-*           border radii
     shadow-*           box shadows
     scrollbar-*        scrollbar styling
     priority-*         task priority opacity scale
   ════════════════════════════════════════════════════════════════ */

:root {

  /* ── Surfaces ─────────────────────────────────────────────── */
  --color-surface-base:           #ffffff;
  --color-surface-elevated:       #ffffff;
  --color-surface-muted:          #ececf0;
  --color-surface-input:          #f3f3f5;

  /* ── Text ─────────────────────────────────────────────────── */
  --color-text-primary:           oklch(0.145 0 0);
  --color-text-secondary:         #717182;
  --color-text-muted:             #717182;

  /* ── Borders ──────────────────────────────────────────────── */
  --color-border-default:         rgba(0, 0, 0, 0.1);
  --color-border-input:           transparent;

  /* ── Interactive ──────────────────────────────────────────── */
  --color-interactive-primary:    #030213;
  --color-interactive-primary-fg: oklch(1 0 0);
  --color-interactive-danger:     #d4183d;
  --color-interactive-danger-fg:  #ffffff;
  --color-ring-focus:             oklch(0.708 0 0);

  /* ── Glassmorphic System ──────────────────────────────────── */
  /* Blur */
  --glass-blur-sm:                6px;
  --glass-blur:                   12px;
  --glass-blur-lg:                16px;

  /* Surfaces */
  --glass-surface-panel:          rgba(16, 16, 16, 0.65);
  --glass-surface-card:           rgba(18, 18, 18, 0.88);
  --glass-surface-card-hover:     rgba(22, 22, 22, 0.92);
  --glass-surface-column:         rgba(8, 8, 8, 0.55);
  --glass-surface-overlay:        rgba(10, 10, 10, 0.75);
  --glass-surface-input:          rgba(255, 255, 255, 0.06);
  --glass-surface-hover:          rgba(255, 255, 255, 0.03);
  --glass-surface-active:         rgba(255, 255, 255, 0.07);
  --glass-surface-muted:          rgba(255, 255, 255, 0.04);
  --glass-surface-tab:            rgba(255, 255, 255, 0.03);

  /* Borders */
  --glass-border:                 rgba(255, 255, 255, 0.06);
  --glass-border-subtle:          rgba(255, 255, 255, 0.05);
  --glass-border-input:           rgba(255, 255, 255, 0.1);
  --glass-border-input-focus:     rgba(255, 255, 255, 0.25);
  --glass-border-input-strong:    rgba(255, 255, 255, 0.2);
  --glass-border-button:          rgba(255, 255, 255, 0.08);
  --glass-border-button-hover:    rgba(255, 255, 255, 0.15);

  /* Text (dark-on-glass hierarchy: white → ghost) */
  --glass-text-primary:           #ffffff;
  --glass-text-secondary:         #dddddd;
  --glass-text-tertiary:          #cccccc;
  --glass-text-label:             #aaaaaa;
  --glass-text-muted:             #999999;
  --glass-text-dimmed:            #888888;
  --glass-text-subtle:            #777777;
  --glass-text-faint:             #666666;
  --glass-text-ghost:             #555555;
  --glass-text-placeholder:       #444444;
  --glass-text-invisible:         #333333;

  /* ── Typography ───────────────────────────────────────────── */
  --font-family-mono:             'JetBrains_Mono', monospace;
  --font-family-sans:             'Basis_Grotesque_Arabic_Pro', sans-serif;
  --font-size-base:               16px;
  --font-weight-normal:           400;
  --font-weight-medium:           500;
  --font-weight-bold:             700;

  /* ── Radii ────────────────────────────────────────────────── */
  --radius-sm:                    6px;
  --radius-md:                    8px;
  --radius-lg:                    10px;
  --radius-xl:                    12px;
  --radius-2xl:                   15px;
  --radius-3xl:                   16px;
  --radius-full:                  9999px;

  /* ── Shadows ──────────────────────────────────────────────── */
  --shadow-card:                  0px 2px 8px rgba(0, 0, 0, 0.4),
                                  0px 10px 20px -5px rgba(0, 0, 0, 0.3);

  /* ── Scrollbar ────────────────────────────────────────────── */
  --scrollbar-thumb:              rgba(255, 255, 255, 0.15);
  --scrollbar-thumb-hover:        rgba(255, 255, 255, 0.25);

  /* ── Priority Opacity Scale ───────────────────────────────── */
  /* Card badges (prominent) */
  --priority-card-high:           1;
  --priority-card-medium:         0.15;
  --priority-card-low:            0.06;
  /* Form selectors (subtle) */
  --priority-form-high:           0.15;
  --priority-form-medium:         0.08;
  --priority-form-low:            0.04;
  /* Active highlight */
  --priority-active-highlight:    0.06;
  --priority-overview-highlight:  0.05;
}

/* ── Tailwind Theme Mapping ──────────────────────────────────── */

@theme inline {
  --color-surface-base: var(--color-surface-base);
  --color-surface-elevated: var(--color-surface-elevated);
  --color-surface-muted: var(--color-surface-muted);
  --color-surface-input: var(--color-surface-input);

  --color-text-primary: var(--color-text-primary);
  --color-text-secondary: var(--color-text-secondary);
  --color-text-muted: var(--color-text-muted);

  --color-border-default: var(--color-border-default);
  --color-border-input: var(--color-border-input);

  --color-interactive-primary: var(--color-interactive-primary);
  --color-interactive-primary-fg: var(--color-interactive-primary-fg);
  --color-interactive-danger: var(--color-interactive-danger);
  --color-interactive-danger-fg: var(--color-interactive-danger-fg);
  --color-ring-focus: var(--color-ring-focus);

  --radius-sm: var(--radius-sm);
  --radius-md: var(--radius-md);
  --radius-lg: var(--radius-lg);
  --radius-xl: var(--radius-xl);
}

/* ── Base Layer ──────────────────────────────────────────────── */

@layer base {
  * {
    @apply border-border-default outline-ring-focus/50;
  }

  html, body, #root {
    height: 100%;
  }

  body {
    @apply bg-surface-base text-text-primary;
  }

  /* Scrollbar */
  ::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }
  ::-webkit-scrollbar-track {
    background: transparent;
  }
  ::-webkit-scrollbar-thumb {
    background: var(--scrollbar-thumb);
    border-radius: 3px;
  }
  ::-webkit-scrollbar-thumb:hover {
    background: var(--scrollbar-thumb-hover);
  }

  /* Typography defaults — overridable by Tailwind utilities */
  html {
    font-size: var(--font-size-base);
  }

  h1 {
    font-size: var(--text-2xl);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  h2 {
    font-size: var(--text-xl);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  h3 {
    font-size: var(--text-lg);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  h4 {
    font-size: var(--text-base);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  label {
    font-size: var(--text-base);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  button {
    font-size: var(--text-base);
    font-weight: var(--font-weight-medium);
    line-height: 1.5;
  }

  input {
    font-size: var(--text-base);
    font-weight: var(--font-weight-normal);
    line-height: 1.5;
  }
}
